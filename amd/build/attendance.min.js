define(["jquery","report_categoryreports/jszip","report_categoryreports/pdfmake","report_categoryreports/jquery.dataTables","report_categoryreports/dataTables.buttons","report_categoryreports/buttons.html5","report_categoryreports/buttons.flash","report_categoryreports/buttons.print","report_categoryreports/bootstrap","report_categoryreports/sweetalert"],function(e,t,a,r,o,n,s,c,l,i){return{init:function(){var t=this;e(".program_select").on("change",{self:t},function(){t.load_courses(t,e(this))}),e("#btn_filter_attendance").on("click",{self:t},function(){t.get_attendance(t,e("#course_select").val())}),e("#btn_filter_grades").on("click",{self:t},function(){t.get_grades(t,e("#course_select").val())})},load_courses:function(t,a){var r={function:"get_courses",id_category:a.val()};e.ajax({type:"POST",data:r,url:"../managers/attendance_server_proc.php",success:function(t){var a="";if(e(".course_select").html(""),Object.keys(t).length>0){for(var r in t)a+="<option value='"+t[r].id+"'>"+t[r].fullname+"</option>";e(".course_select").append(a)}else e(".course_select").append("<option value=''><i>No registra cursos</i></option>")},dataType:"json",cache:"false",error:function(e){console.log(e)}})},get_attendance:function(t,a){var r={function:"get_attendance",courseid:a};e.ajax({type:"POST",data:r,url:"../managers/attendance_server_proc.php",success:function(t){e("#div_table").html(""),e("#div_table").fadeIn(1e3).append('<table id="table_attendance" class="display" cellspacing="0" width="100%"></table>'),e("#table_attendance").DataTable(t)},dataType:"json",cache:"false",error:function(e){console.log(e)}})},get_grades:function(t,a){var r={function:"get_grader",courseid:a};e.ajax({type:"POST",data:r,url:"../managers/grades_api.php",success:function(t){e("#div_grader").html(""),e("#div_grader").fadeIn(1e3).append('<table id="table_grader" class="display" cellspacing="0" width="100%"></table>'),e("#table_grader").DataTable(t)},dataType:"json",cache:"false",error:function(e){console.log(e)}})}}});